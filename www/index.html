
<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>SpriteSheet Example</title>

<!-- Welcome to ZIM at http://zimjs.com - Code Interactive Media Pizzazz! 	        -->
<!-- ZIM runs on the HTML Canvas powered by JavaScript and CreateJS http://createjs.com -->
<!-- Founded by Inventor Dan Zen - http://danzen.com - Canadian New Media Award Winner 	-->
<!-- ZIM is free to use. You can donate to help improve ZIM at http://zimjs.com/donate 	-->

<script src="https://d309knd7es5f10.cloudfront.net/createjs.min.js"></script>
<script>
	var zon = true; // set to false to turn off console messages from zim
	var zns = false; // set to true to require zim namespace - eg. new zim.Frame()
</script>
<script src="https://d309knd7es5f10.cloudfront.net/zim_6.6.1.js"></script>
<!-- use zimjs.com/code/distill for minified individual functions! -->

<script>

// SCALING OPTIONS
// scaling can have values as follows with full being the default
// "fit"	sets canvas and stage to dimensions and scales to fit inside window size
// "outside"	sets canvas and stage to dimensions and scales to fit outside window size
// "full"	sets stage to window size with no scaling
// "tagID"	add canvas to HTML tag of ID - set to dimensions if provided - no scaling

var scaling = "fit"; // this will resize to fit inside the screen dimensions
var width = 1024;
var height = 768;

// as of ZIM 5.5.0 you do not need to put zim before ZIM functions and classes
var frame = new Frame(scaling, width, height);
frame.on("ready", function() {
    zog("ready from ZIM Frame"); // logs in console (F12 - choose console)

    var stage = frame.stage;
    var stageW = frame.width;
    var stageH = frame.height;
    frame.outerColor = "#444";
    frame.color = "#ddd";

    // see http://zimjs.com/code/learn.html for video and code tutorials
    // see http://zimjs.com/code/docs.html for documentation
    // see http://zimjs.com/code/bits.html for 64 Interactive Media techniques

    // put your code here (you can delete this sample code)

  frame.loadAssets(["spritesheet.png", "spritesheet.json", "shoot.mp3", "background2.png", "oceanbed.png", "coral.png", "turtle.png", "submarine.png"], "spritesheets/");


	frame.on("complete", function() {
		// frame.asset("spritesheet.png").addTo(stage);
		// var shoot = frame.asset("shoot.mp3");
		// shoot.play();

		 var sub = frame.asset("submarine.png")
		 .center(stage);

		// var spriteData = frame.asset("spritesheet.json");

		// var sprite = new Sprite({json:spriteData})
		// 	.centerReg(stage)
		// 	.mov(0, 50)
		// 	// .outline()
		// 	// .run({
		// 	// 	time:1000,
		// 	// 	label:"shoot",
		// 	// 	loop:true,
		// 	// 	loopCall:function(){
		// 	// 		shoot.play();
		// 	// 	}
		// 	// });
    //
		// var dynamo = new Dynamo({
		// 	sprite:sprite,
		// 	speed:30,
		// 	label:"walk",
		// 	reversable:false
		// });

		Ticker.always();

		var turtle = frame.asset("turtle.png");
		turtle.addTo(stage);

		var label = new zim.Label("OCEAN", 30, "Courier", "white");

		turtle.on("click", function() {
			var pane = new Pane(300, 200, label, "#CCC");
			pane.show(); // pressing anywhere will close pane (see parameters for options)
			// paneDrag.show(); //shows pane

		});

		// var closeBut = new zim.Button(41,41,"X","black","#444","white","2",5);
		// var label = new zim.Label("OCEAN", 30, "Courier", "white");
		// // container, width, height, label, color, drag, resets, modal, etc. see docs
		// var paneDrag = new zim.Pane(stage, 400, 300, label, "black", true, false, false);
		// paneDrag.addChild(closeBut).outline();
		// paneDrag.x = 400; paneDrag.y = 200;
		// closeBut.x = 136; closeBut.y = -130;
		// closeBut.alpha = .7;
		// // must make custom listener for close button to hide pane
		// closeBut.on("click",function() {
		// 	paneDrag.hide();
		// });

		// turtle.on("click", function() {
		// 	var showButton = new zim.Button(140,60,"POP")
		// 		.alp(0)
		// 		.center(sce);
		// 	});


		// var submarine = frame.asset("submarine.png")
		// .centerReg(stage)
		// .mov(0, 50);

		var scenery = new Container().addTo(stage, 0);

		// var background = frame.asset("background.png")
		// 	.addTo(scenery);
		// var scroller1 = new Scroller(background, 1);
        //
		// var ground = frame.asset("ground.png")
		// 	.addTo(scenery).mov(0, -150);
		// var scroller2 = new Scroller(ground, 3);
        //
		// var midground = frame.asset("midground.png")
		// 	.addTo(scenery);
		// var scroller3 = new Scroller(midground, 2);
        //
		// var accelerator = new Accelerator([
		// 	dynamo,
		// 	scroller1,
		// 	scroller2,
		// 	scroller3
		// ]);

		var fish = new Container(5000, stageH);
		var turtle = frame.asset("turtle.png");
		turtle.addTo(fish);

		// frame.asset("background2.png").addTo(background), 1),

		var accelerator = new Accelerator([
			new Scroller(frame.asset("background2.png").addTo(scenery), 1),
			new Scroller(fish.addTo(scenery), 1.5),
			new Scroller(frame.asset("oceanbed.png").addTo(scenery).mov(0,150), 3),
			new Scroller(frame.asset("coral.png").mov(0,200).addTo(scenery), 2),
		]);


		// Ticker.always();

		// var pd = new ProportionDamp(0, stageW, -60, 60); // for dynamo
		var pd = new ProportionDamp(0, stageW, -200, 200); // for accelerator
		Ticker.add(function() {
			// zog(pd.convert(stage.mouseX))
			// dynamo.speed = pd.convert(stage.mouseX);
			accelerator.percentSpeed = pd.convert(stage.mouseX);
			// if (dynamo.speed > 0) {
			// 	sprite.scaleX = 1;
			// } else {
			// 	sprite.scaleX = -1;
			// }
        	// zog(Math.round(stage.mouseX));
		})

		stage.update(); // this is needed to show any changes
	}); // end of assets loaded
}); // end of ready

</script>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

</head>

<body>
<!-- canvas with id="myCanvas" is made by zim Frame -->
</body>
</html>
